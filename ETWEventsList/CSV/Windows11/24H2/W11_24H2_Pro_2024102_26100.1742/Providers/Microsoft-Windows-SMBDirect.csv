Provider,Level,Event ID,Version,Channel,Task,Opcode,Keyword,Message
Microsoft-Windows-SMBDirect,Information,0,0,Microsoft-Windows-SMBDirect/Operational,,,,SMB Direct is starting.Version: {BuildMajor}.{BuildMinor}.{ProductMajor}.{ProductMinor}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Information,1,0,Microsoft-Windows-SMBDirect/Operational,,,,SMB Direct has started.Version: {BuildMajor}.{BuildMinor}.{ProductMajor}.{ProductMinor}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Information,2,0,Microsoft-Windows-SMBDirect/Operational,,,,SMB Direct is stopping.Version: {BuildMajor}.{BuildMinor}.{ProductMajor}.{ProductMinor}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Information,3,0,Microsoft-Windows-SMBDirect/Operational,,,,SMB Direct has stopped.Version: {BuildMajor}.{BuildMinor}.{ProductMajor}.{ProductMinor}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Error,100,0,Microsoft-Windows-SMBDirect/Operational,,,,Failed to load a configuration parameter from the registry.Registry key: {RegistryKeyName}Parameter name: {ParamName}Status: {Status}Guidance:Verify that the parameter's registry value type is correct and that the value is in the parameter's range of accepted values. SMB Direct will use the parameter's default value until this issue is corrected. SMB Direct must be restarted to read updated configuration parameter values from the registry.
Microsoft-Windows-SMBDirect,Information,101,0,Microsoft-Windows-SMBDirect/Operational,,,,A configuration parameter value has been updated.Name: {Name}Value: {Value}Default: {IsDefault}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Information,102,0,Microsoft-Windows-SMBDirect/Operational,,,,A configuration parameter value has been updated.Name: {Name}Value: {Value}Default: {IsDefault}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Warning,150,0,Microsoft-Windows-SMBDirect/Operational,,,,A socket configuration parameter value is not supported.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Parameter name: {ParamName}Configured value: {ConfiguredValue}Minimum supported value: {MinSupportedValue}Maximum supported value: {MaxSupportedValue}Selected value: {SelectedValue}Guidance:A socket configuration parameter value is not supported by the socket's RDMA network adapter or is incompatible with one or more of the socket's other configuration parameter values. The selected value will be used until this issue is corrected.
Microsoft-Windows-SMBDirect,Information,200,0,Microsoft-Windows-SMBDirect/Operational,,,,Identified a set of completion queue processors.Node number: {NodeNumber}Group number: {GroupNumber}Processor mask: {ProcessorMask}First processor number: {FirstProcessorNumber}Last processor number: {LastProcessorNumber}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Warning,201,0,Microsoft-Windows-SMBDirect/Operational,,,,A NUMA node has too few completion queue processors for optimal performance.Node number: {NodeNumber}Base affinity node: {BaseAffinityNode}Max affinity node: {MaxAffinityNode}Base affinity processor: {BaseAffinityProcessor}Max affinity processor: {MaxAffinityProcessor}Processor affinity mask: {ProcessorAffinityMask}Guidance:The configuration parameters BaseAffinityNode; MaxAffinityNode; BaseAffinityProcessor; MaxAffinityProcessor; and ProcessorAffinityMask specify the set of processors that SMB Direct may use for its completion queues. The current configuration values allow only one processor in the specified NUMA node to be used (non-NUMA systems are treated as NUMA systems with one node). This configuration will degrade the performance of any SMB Direct connection that is affinitized to this NUMA node. To correct this issue; increase the number of completion queue processors in this NUMA node to a multiple of two. SMB Direct must be restarted to read updated configuration parameter values from the registry.
Microsoft-Windows-SMBDirect,Error,202,0,Microsoft-Windows-SMBDirect/Operational,,,,Failed to identify any completion queue processors.Base affinity node: {BaseAffinityNode}Max affinity node: {MaxAffinityNode}Base affinity processor: {BaseAffinityProcessor}Max affinity processor: {MaxAffinityProcessor}Processor affinity mask: {ProcessorAffinityMask}Guidance:The configuration parameters BaseAffinityNode; MaxAffinityNode; BaseAffinityProcessor; MaxAffinityProcessor; and ProcessorAffinityMask specify the set of processors that SMB Direct may use for its completion queues. The current configuration values exclude all processors from being used. This configuration is invalid. SMB Direct will use all processors until this issue is corrected. SMB Direct must be restarted to read updated configuration parameter values from the registry.
Microsoft-Windows-SMBDirect,Critical,300,0,Microsoft-Windows-SMBDirect/Operational,,,,An RDMA network adapter's NDKPI version is no longer supported.Adapter interface index: {AdapterIfIndex}NDKPI version: {AdapterNdkVersionMajor}.{AdapterNdkVersionMinor}Minimum supported NDKPI version: {MinSupportedNdkVersionMajor}.{MinSupportedNdkVersionMinor}Guidance:The Network Direct Kernel Provider Interface (NDKPI) is the API through which SMB Direct interacts with RDMA network adapters. This adapter's NDKPI version is no longer supported by SMB Direct. Check for newer drivers and/or firmware from the network adapter's manufacturer.
Microsoft-Windows-SMBDirect,Critical,301,0,Microsoft-Windows-SMBDirect/Operational,,,,An RDMA network adapter's NDKPI limit does not meet SMB Direct's minimum requirements.Adapter interface index: {AdapterIfIndex}NDKPI limit name: {NdkLimitName}NDKPI limit value: {NdkLimitValue}Minimum supported NDKPI limit value: {MinSupportedNdkLimitValue}Guidance:The Network Direct Kernel Provider Interface (NDKPI) is the API through which SMB Direct interacts with RDMA network adapters. This adapter advertises an NDKPI limit that is incompatible with SMB Direct requirements. Contact the network adapter's manufacturer to determine if the limit can be increased.
Microsoft-Windows-SMBDirect,Warning,302,0,Microsoft-Windows-SMBDirect/Operational,,,,Failed to allocate an RDMA network adapter resource.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}RDMA resource type: {RdmaObjectType}Guidance:This event may indicate that the demand for SMB Direct sockets exceeds one or more of the RDMA network adapter's limits.
Microsoft-Windows-SMBDirect,Critical,303,0,Microsoft-Windows-SMBDirect/Operational,,,,An RDMA network adapter's completion queue has experienced a catastrophic failure and is no longer operational.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Status: {Status}Guidance:RDMA capable network adapters use completion queues to notify SMB Direct that operations such as sending or receiving data have completed. The catastrophic failure of a completion queue will result in an unusable SMB Direct connection. Verify that the latest version of the network adapter's driver and/or firmware are installed. Contact the network adapter's manufacturer if the issue persists.
Microsoft-Windows-SMBDirect,Warning,304,0,Microsoft-Windows-SMBDirect/Operational,,,,Allocating an RDMA network adapter resource took too long.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Elapsed microseconds: {ElapsedUsecs}Slow API: {ApiName}Status: {Status}Guidance:This event may indicate that the demand for SMB Direct sockets exceeds one or more of the RDMA network adapter's limits.
Microsoft-Windows-SMBDirect,Information,5000,0,Microsoft-Windows-SMBDirect/Connectivity,,,,An RDMA network adapter has been opened.Adapter interface index: {AdapterIfIndex}NDK version: {NdkMajorVer}.{NdkMinorVer}Effective NDK version: {EffectiveNdkMajorVer}.{EffectiveNdkMinorVer}Vendor ID: {VendorId}Device ID: {DeviceId}Max registration size: {MaxRegistrationSize}Max window size: {MaxWindowSize}FRMR page count: {AdapterIfIndex}0Max initiator request SGEs: {AdapterIfIndex}1Max effective initiator request SGEs: {AdapterIfIndex}2Max receive request SGEs: {AdapterIfIndex}3Max effective receive request SGEs: {AdapterIfIndex}4Max read request SGEs: {AdapterIfIndex}5Max effective read request SGEs: {AdapterIfIndex}6Max transfer length: {AdapterIfIndex}7Max effective send size: {AdapterIfIndex}8Max effective receive size: {AdapterIfIndex}9Max inline data size: {NdkMajorVer}0Max inbound read limit: {NdkMajorVer}1Max outbound read limit: {NdkMajorVer}2Max receive queue depth: {NdkMajorVer}3Max effective receive queue depth: {NdkMajorVer}4Max initiator queue depth: {NdkMajorVer}5Max effective initiator queue depth: {NdkMajorVer}6Max SRQ depth: {NdkMajorVer}7Max CQ depth: {NdkMajorVer}8Large request threshold: {NdkMajorVer}9Max caller data: {NdkMinorVer}0Max callee data: {NdkMinorVer}1Adapter flags: {NdkMinorVer}2In order DMA: {NdkMinorVer}3Read sink required: {NdkMinorVer}4CQ interrupt moderation: {NdkMinorVer}5Multi-engine: {NdkMinorVer}6Read local invalidate: {NdkMinorVer}7CQ resize: {NdkMinorVer}8Loopback connections: {NdkMinorVer}9Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Information,5002,0,Microsoft-Windows-SMBDirect/Connectivity,,,,A socket has disconnected.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local network address: {LocalNetAddress}Remote network address: {RemoteNetAddress}Application initiated: {ApplicationInitiated}Timed out: {TimedOut}Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Critical,5003,0,Microsoft-Windows-SMBDirect/Connectivity,,,,A network protocol violation has been detected.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local network address: {LocalNetAddress}Remote network address: {RemoteNetAddress}Violation type: {ViolationType}Guidance:The SMB Direct subsystem has detected a violation of the SMB Direct network protocol on one of its connections. Possible causes include; but are not limited to; defects in the connection's remote peer or corruption of SMB Direct messages in transit on the network.
Microsoft-Windows-SMBDirect,Error,5004,0,Microsoft-Windows-SMBDirect/Connectivity,,,,Failed to establish an outbound connection.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local network address: {LocalNetAddress}Remote network address: {RemoteNetAddress}NdkConnect status: {NdkConnectStatus}NdkCompleteConnect status: {NdkCompleteConnectStatus}NdkReceive status: {NdkReceiveStatus}NdkSend status: {AdapterIfIndex}0Negotiate status: {AdapterIfIndex}1Timed out: {AdapterIfIndex}2RDMA resource failure type: {AdapterIfIndex}3Status: {AdapterIfIndex}4Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Error,5005,0,Microsoft-Windows-SMBDirect/Connectivity,,,,Failed to accept an inbound connection.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local network address: {LocalNetAddress}Remote network address: {RemoteNetAddress}NdkAccept status: {NdkAcceptStatus}NdkReceive status: {NdkReceiveStatus}NdkSend status: {NdkSendStatus}Negotiate status: {AdapterIfIndex}0Timed out: {AdapterIfIndex}1Refusal reason: {AdapterIfIndex}2RDMA resource failure type: {AdapterIfIndex}3Status: {AdapterIfIndex}4Guidance:This event is informational. No action is required.
Microsoft-Windows-SMBDirect,Error,5006,0,Microsoft-Windows-SMBDirect/Connectivity,,,,A socket has been disconnected after the remote peer failed to respond to a keepalive request.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local Address: {LocalNetAddress}Remote Address: {RemoteNetAddress}Deadline (ms): {DeadlineInMs}
Microsoft-Windows-SMBDirect,Error,5007,0,Microsoft-Windows-SMBDirect/Connectivity,,,,A socket has been disconnected after the remote peer failed to grant send credits.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local Address: {LocalNetAddress}Remote Address: {RemoteNetAddress}Deadline (ms): {DeadlineInMs}
Microsoft-Windows-SMBDirect,Warning,5008,0,Microsoft-Windows-SMBDirect/Operational,,,,A request to rundown a socket exceeded the completion deadline.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local Address: {LocalNetAddress}Remote Address: {RemoteNetAddress}Deadline (ms): {DeadlineInMs}
Microsoft-Windows-SMBDirect,Warning,5009,0,Microsoft-Windows-SMBDirect/Operational,,,,A request to close a socket exceeded the completion deadline.Adapter interface index: {AdapterIfIndex}Socket ID: {SocketId}Local Address: {LocalNetAddress}Remote Address: {RemoteNetAddress}Deadline (ms): {DeadlineInMs}
